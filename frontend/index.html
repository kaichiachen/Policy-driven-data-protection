<!DOCTYPE html>
<html>
<head>
	<title>Data Protection</title>
</head>
<body>
	<script type="text/javascript">
		let url = "https://policydriverstorage.free.beeceptor.com/";
		function uploadFile(){
			fetch(url + "new", {
				method: "POST",
				headers: {
					"Content-Type": "application/json"
				},
				body: JSON.stringify({
					content: document.getElementById('myfile').value,
					policy: "RAID1"
				})
			})
			.then((response) => response.json())
 			.then((json) => console.log(json));
		}

		function downloadFile(){
			window.location.href = url + "download?id=" + document.getElementById('downloadobjid').value;
		}

		function updateFile(){
			fetch(url + "update", {
				method: "PUT",
				headers: {
					"Content-Type": "application/json"
				},
				body: JSON.stringify({
					content: document.getElementById('updatefile').value,
					id: document.getElementById('updateobjid').value
				})
			})
			.then((response) => response.json())
 			.then((json) => console.log(json));
		}

		function watchFile(){
			fetch(url + 'layout?id=' + document.getElementById('watchobjid').value)
	 		.then(response => response.json())
	 		.then(json => console.log(json))
		}
	</script>

	<section>
		<div>
			<form>
				<!--File Upload-->
				<div>
					<div>
						<label>Upload File</label>
					</div>
					<div>
						<label>File:</label>
					</div>
					<div>
						<input type="file" id="myfile" name="myfile">
					</div>
				</div>

				<!--Policy-->
				<div>
					<div>
						<label>Raid:</label>
					</div>
					<div>
						<select>
							<option>RAID0</option>
							<option>RAID1</option>
						</select>
					</div>
				</div>
				<div>
					<input type="button" value="Upload File" onclick="uploadFile();">
				</div>
			</form>
			<br>
			<form>

				<!--Object ID-->
				<div>
					<div>
						<label>Download File</label>
					</div>
					<div>
						<label>Object ID:</label>
					</div>
					<div>
						<input type="text" name="Name" id="downloadobjid">
					</div>
				</div>
				<div>
					<input type="button" value="Download" onclick="downloadFile()">
				</div>
			</form>
				<br>
			<form>

				<!--File Update-->
				<div>
					<div>
						<label>Update File</label>
					</div>
					<div>
						<label>Object ID:</label>
					</div>
					<div>
						<input type="text" name="Name" id="updateobjid">
					</div>
					<div>
						<input type="file" id="updatefile" name="updatefile">
					</div>
				</div>
				<div>
					<input type="button" value="Update">
				</div>
			</form>
				<br>
			<form>

				<!--Query Layout-->
				<div>
					<div>
						<label>Query Layout</label>
					</div>
					<div>
						<label>Object ID:</label>
					</div>
					<div>
						<input type="text" name="Name" id="watchobjid">
					</div>
				</div>
				<div>
					<input type="button" value="Query" onclick="watchFile()">
				</div>
			</form>
		</div>
	</section>

</body>
</html>